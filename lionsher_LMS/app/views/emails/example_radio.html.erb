<script src="/assets/prototype.js?body=1" type="text/javascript"></script>
<form accept-charset="UTF-8" action="/emails" class="new_email" id="new_email" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="qGioyqkmJaNPS8UJxqyzK6Dkut63DF9MhGzbdiwmCMI=" /></div>
<input type="radio" name="group1" value="Milk" onclick="new Ajax.Request('/emails/get_email_content_for_email_type/'+this.value,{asynchronous:true, evalScripts:true, parameters:Form.serialize(this)}); return false;"/>Milk
<input type="radio" name="group1" value="Butter"/> Butter
</form>

<%#= form_tag do %>
<%#= radio_button_tag(:age, "child", :onclick => "new Ajax.Request('/emails/get_email_content_for_email_type/'+this.value,{asynchronous:true, evalScripts:true, parameters:Form.serialize(this)}); return false;") %>
<%#= label_tag(:age_child, "I am younger than 21") %>
<%#= radio_button_tag(:age, "adult") %>
<%#= label_tag(:age_adult, "I'm over 21") %>
<%# end %>

<%#*The Editor config%>

<form method="post" action="#" id="form1">
<textarea id="editor" name="editor" rows="20" cols="75">
This is some more test text. <font face="Times New Roman">This is some more test text.
This is some more <b>test <i>text</i></b></font>.
This is some more test text. This is some more test text.
This is some more test text. This is some more test text. This is some more test text.
This is some more test text.
</textarea>
</form>
<script>
var myConfig = {
    height: '300px',
    width: '600px',
    animate: true,
    dompath: true,
    focusAtStart: true
};

//Now let's load the Editor.
var myEditor = new YAHOO.widget.Editor('editor', myConfig);


var myEditor = new YAHOO.widget.Editor('editor', myConfig);

//Wait for the editor's toolbar to load
myEditor.on('toolbarLoaded', function() {
    //create the new gutter object
    gutter = new YAHOO.gutter();

    //The Toolbar buttons config
    var flickrConfig = {
            type: 'push',
            label: 'Insert Flickr Image',
            value: 'flickr'
    }

    //Add the button to the "insertitem" group
    myEditor.toolbar.addButtonToGroup(flickrConfig, 'insertitem');

    //Handle the button's click
    myEditor.toolbar.on('flickrClick', function(ev) {
        this._focusWindow();
        if (ev && ev.img) {
            //To abide by the Flickr TOS, we need to link back to the image that we just inserted
            var html = '<a href="' + ev.url + '"><img src="' + ev.img + '" title="' + ev.title + '"></a>';
            this.execCommand('inserthtml', html);
        }
        //Toggle the gutter, so that it opens and closes based on this click.
        gutter.toggle();
    });
    //Create the gutter control
    gutter.createGutter();
});
myEditor.render();
</script>